<script id="ModuleListTmpl" type="text/html">
    <div class="row-fluid">
        <div class="span12">
            <div class="box box-color box-bordered">
                <div class="box-title">
                    <h3 data-bind="text:NameModule"></h3>
                </div>
                <div class="box-content nopadding">
                    <div class='form-horizontal form-bordered' style="margin: 0 auto;width: 50%;border: 2px solid rgb(150, 150, 150);">
                        <ul class="tabs tabs-inline tabs-top">
                            <li class='active'>
                                <a href="#first11" data-toggle='tab'><i class="icon-filter"></i> Lọc cẩm nang</a>
                            </li>
                            <li>
                                <a href="#second22" data-toggle='tab'><i class=" icon-search"></i> Tìm kiếm</a>
                            </li>
                        </ul>
                        <div class="tab-content padding tab-content-inline tab-content-bottom">
                            <div class="tab-pane active" id="first11">
                                <div class="control-group">
                                    <h4 class="control-label"><i class="icon-search"></i></h4>
                                </div>
                                <div class="control-group">
                                    <label for="textfield" class="control-label"><b>Nhóm Menu</b></label>
                                    <div class="controls">
                                        <div class="input-append">
                                            <select class="select2-me input-xlarge" data-bind="options:ListMenu, optionsText: 'tenloai',optionsValue: 'id',value:SelectMenu"></select>
                                        </div>
                                        <button class="btn btn-primary" data-bind="click:modalMenu"><i class="icon-pencil"> </i></button>

                                    </div>
                                </div>
                                <!--ko if:ListGroup().length>0-->
                                <div class="control-group">
                                    <label for="textfield" class="control-label"><b>Nhóm bài viết</b></label>
                                    <div class="controls">
                                        <div class="input-append">
                                            <select class="select2-me input-xlarge" data-bind="options:ListGroup,optionsValue: 'id', optionsText: 'title',value:SelectGroup"></select>
                                        </div>
                                        <button class="btn btn-primary" data-bind="click:modalGroup"><i class="icon-pencil"> </i></button>

                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="textfield" class="control-label"></label>
                                    <div class="controls">
                                        <div class="input-append" style="width: 100%;">
                                            <button data-bind="click:SubmitFind" class="btn btn-primary" style="width:75%"><i class="icon-search"></i></button>
                                            <a class="btn btn  btn-success" href="/admin/module#/new" target="_blank" style="width: 20%;margin-left: 10px;">
                                                <i class="icon-plus-sign"> </i>
                                            </a>
                                        </div>
                                    </div>

                                </div>
                                <!--/ko-->
                            </div>
                            <div class="tab-pane" id="second22">
                                <div class="control-group">
                                    <label for="textfield" class="control-label"><b>Tìm kiếm cẩm nang</b></label>
                                    <div class="controls">
                                        <div class="input-append">
                                            <input type="text" data-bind="value:txt_search" />
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="textfield" class="control-label"></label>
                                    <div class="controls">
                                        <div class="input-append" style="width: 85%;">
                                            <button data-bind="click:search_query" class="btn btn-primary" style="width:100%"><i class="icon-search"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="box-title"></div>

                    <div data-bind="visible:ListData().length>0">
                        <div class="paging_ko">
                            <div class="filter-ko">
                                <div data-bind="foreach: filter.filters">
                                    <div data-bind="if: Type == 'select'"></div>
                                    <div data-bind="if: Type == 'text'">
                                        <strong>Tìm kiếm:  </strong><input placeholder="Mã sản phẩm" type="text" data-bind="value: Value, valueUpdate: 'afterkeydown'" style="width: 100px;">
                                    </div>
                                </div>
                                <b>Sắp xếp:</b>
                                <select data-bind="options: sorter.sortOptions, optionsText: 'Name', value: sorter.currentSortOption"><option value="">ID</option><option value="">masp</option></select>
                                Theo:
                                <select data-bind="options: sorter.sortDirections, optionsText: 'Name', value: sorter.currentSortDirection"><option value="">Asc</option><option value="">Desc</option></select>
                            </div>
                            <div style="clear: both;"></div>

                            <div class="Pager">Page <span data-bind="text: pager.currentPageIndex() + 1">1</span> of <span data-bind="text: pager.maxPageIndex() + 1">1</span> [<span data-bind="text: pager.recordCount">5</span> Record(s)]&nbsp;&nbsp;<select data-bind="options: pager.pageSizeOptions, value: pager.currentPageSize, event: { change: pager.onPageSizeChange }"><option value="1">1</option><option value="5">5</option><option value="25">25</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option></select><div><a class="btn-paging" href="#" data-bind="click: pager.moveFirst, enable: pager.currentPageIndex() > 0">&lt;&lt;</a><a class="btn-paging" href="#" data-bind="click: pager.movePrevious, enable: pager.currentPageIndex() > 0">&lt;</a><a class="btn-paging" href="#" data-bind="click: pager.moveNext, enable: pager.currentPageIndex() < pager.maxPageIndex()">&gt;</a><a class="btn-paging" href="#" data-bind="click: pager.moveLast, enable: pager.currentPageIndex() < pager.maxPageIndex()">&gt;&gt;</a></div><br></div>

                            <div class="NoRecords"><span data-bind="visible: pager.recordCount() == 0" style="display: none;">No records found.</span></div>
                        </div>
                        <table class="table table-hover table-nomargin dataTable table-bordered">
                            <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Tiêu đề</th>
                                    <th>Hình</th>
                                    <th>Ngày</th>
                                    <th>Trạng thái</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody data-bind="foreach: pager.currentPageRecords">
                                <tr class="gradeX">
                                    <td data-bind="text:id"></td>
                                    <td data-bind="text:title"></td>
                                    <td>
                                        <img data-bind="attr: { src:urlModule+img()}" style="width:120px" onerror="imgerror(this)" />
                                    </td>
                                    <td data-bind="datelong:createdate"></td>

                                    <td>
                                        <p data-bind="visible:hide()"><span class="btn btn-lightgrey"><i class="glyphicon-eye_close"> Ẩn</i></span></p>
                                    </td>
                                    <td>
                                        <p>
                                            <button class="btn  btn-success" data-bind="click:$parent.HideArticle"><i class="glyphicon-eye_close"></i></button>
                                        </p>
                                        <p>
                                            <a class="btn btn-primary" data-bind="attr:{href:linkdetail}"><i class="icon-pencil"> </i></a>
                                        </p>
                                        <p>
                                            <button class="btn  btn-danger" data-bind="click:$parent.RemoveArticle"><i class="icon-trash"></i></button>
                                        </p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="paging_ko">

                            <div class="Pager">Page <span data-bind="text: pager.currentPageIndex() + 1">1</span> of <span data-bind="text: pager.maxPageIndex() + 1">1</span> [<span data-bind="text: pager.recordCount">5</span> Record(s)]&nbsp;&nbsp;<select data-bind="options: pager.pageSizeOptions, value: pager.currentPageSize, event: { change: pager.onPageSizeChange }"><option value="1">1</option><option value="5">5</option><option value="25">25</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option></select><div><a class="btn-paging" href="#" data-bind="click: pager.moveFirst, enable: pager.currentPageIndex() > 0">&lt;&lt;</a><a class="btn-paging" href="#" data-bind="click: pager.movePrevious, enable: pager.currentPageIndex() > 0">&lt;</a><a class="btn-paging" href="#" data-bind="click: pager.moveNext, enable: pager.currentPageIndex() < pager.maxPageIndex()">&gt;</a><a class="btn-paging" href="#" data-bind="click: pager.moveLast, enable: pager.currentPageIndex() < pager.maxPageIndex()">&gt;&gt;</a></div><br></div>

                            <div class="NoRecords"><span data-bind="visible: pager.recordCount() == 0" style="display: none;">No records found.</span></div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="modal_menu" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="myModalLabel">Chỉnh sửa Menu</h3>
        </div>
        <div class="modal-body">
            <div class="form-horizontal form-bordered">
                <!--ko foreach:ListMenu-->
                <div class="control-group">
                    <label for="textfield" class="control-label"><button class="btn  btn-danger" data-bind="click:$parent.removeMenu"><i class="icon-trash"></i></button></label>
                    <div class="controls">
                        <table>
                            <tr>
                                <td><b>Tiêu đề :</b></td>
                                <td>
                                    <input type="text" data-bind="value:tenloai" class="input-medium" placeholder="Tiêu đề">
                                    <input type="text" data-bind="value:tenloai_us" class="input-medium margin-top-10" placeholder="TA">
                                </td>
                            </tr>
                            <tr>
                                <td><b>Url :</b></td>
                                <td><input type="text" data-bind="value:url" class="input-medium" placeholder="Url"></td>
                            </tr>
                            <tr>
                                <td><b>Description</b></td>
                                <td><textarea data-bind="value:des" cols="10"></textarea></td>
                            </tr>
                            <tr>
                                <td><b>Keyword</b></td>
                                <td><input type="text" data-bind="value:keyword" placeholder="keyword"></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <!--/ko-->
                <span class="btn btn-success" data-bind="click:addMenu">Thêm</span>
            </div>

        </div>
        <div class="modal-footer">
            <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
            <button class="btn btn-primary" data-bind="click:UpdateMenu">Save changes</button>
        </div>
    </div>
    <div id="modal_menu_group" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="myModalLabel">Chỉnh sửa Nhóm Bài viết</h3>
        </div>
        <div class="modal-body">
            <div class="form-horizontal form-bordered">
                <div class="control-group">
                    <label for="textfield" class="control-label"><b>Nhóm Menu</b></label>
                    <div class="controls">
                        <div class="input-append">
                            <select class="select2-me input-xlarge" data-bind="options:ListMenu, optionsText: 'tenloai',optionsValue: 'id',value:SelectMenu"></select>
                        </div>
                    </div>
                </div>

                <!--ko foreach:ListGroup-->
                <div class="control-group">
                    <label for="textfield" class="control-label">
                        <button class="btn  btn-danger" data-bind="click:$parent.removeGroup"><i class="icon-trash"></i></button>
                    </label>
                    <div class="controls">
                        <table>
                            <tr>
                                <td><b>Tiêu đề:</b></td>
                                <td><input type="text" data-bind="value:title" placeholder="Tiêu đề">
                                    <input type="text" data-bind="value:title_us" class="margin-top-10" placeholder="TA">
                                </td>
                            </tr>
                            <tr>
                                <td><b>Url</b></td>
                                <td><input type="text" data-bind="value:url" placeholder="url"></td>
                            </tr>
                            <tr>
                                <td><b>Description</b></td>
                                <td><textarea data-bind="value:des" cols="10"></textarea></td>
                            </tr>
                            <tr>
                                <td><b>Keyword</b></td>
                                <td><input type="text" data-bind="value:keyword" placeholder="keyword"></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <!--/ko-->
                <span class="btn btn-success" data-bind="click:addGroup">Thêm</span>


            </div>

        </div>
        <div class="modal-footer">
            <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
            <button class="btn btn-primary" data-bind="click:UpdateGroup">Save changes</button>
        </div>
    </div>
</script>