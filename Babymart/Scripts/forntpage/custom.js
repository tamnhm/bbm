function formatNumber(t) { return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,") } function RemoveItemCart(t) { var o = t.CountPro - 1; $("#row-bar-" + t.DeleteId).fadeOut("slow"), $("#row-" + t.DeleteId).fadeOut("slow"), $("#total-price").text(formatNumber(t.CartTotal) + " đ"), $("#cart-total").text(formatNumber(t.CartTotal) + " đ"), $("#cart-status").text(t.CountPro - 1), $("#cart-total-bar").text(t.CountPro - 1), $("#cart-status").text(o), 0 == o && ($("table.cart").fadeOut("slow"), $("#emptycart").fadeIn("slow"), $("#bar_cart").fadeOut("slow"), $("#xacnhandh").fadeOut("slow")) } function imgError(t) { return t.onerror = "", t.src = "/Content/img/imgerror.png", !0 } $(function () { $(".RemoveLinkBar").click(function () { var t = $(this).attr("data-id"); void 0 != t && $.post("/Cart/RemoveFromCart", { id: t }, function (t) { RemoveItemCart(t) }) }), $(".RemoveLinkBar_Plan").click(function () { $("#bb_loading").css("display", "block"), $.post("/Plan/CancelPlan", function () { window.location.reload(!0), $("#bb_loading").css("display", "none") }) }), $("body").append('<div id="tooltip"></div>'); var t = $("#tooltip"), o = t.outerWidth(); $("a.tooltip").mousemove(function (n) { var a = n.clientX + 15, e = n.clientY, r = $(window).width() - a, i = $(window).height() - e, l = t.outerHeight(); o > r && (a -= o + 30), l > i && (e -= l), t.html($(this).next().html()).css({ left: a, top: e, display: "block" }) }).on("mouseout mouseleave", function () { t.stop().hide() }), $(".language_vn").click(function () { $.post("/Common/GetHttpCookieLang", { lang: "vn" }, function () { location.reload() }) }), $(".language_us").click(function () { $.post("/Common/GetHttpCookieLang", { lang: "us" }, function () { location.reload() }) }) });

$(document).ready(function () { var e = ($("#category-menu>li>div"), $("#category-menu"), $("#category-menu").height()), n = $("#category-menu li div").height(); $("#category-menu").change(function () { e = $("#category-menu").height() }), $("#category-menu").hover(function () { e = $("#category-menu").height(), $("#category-menu>li>div").css("min-height", e - 10) }), e > n && $("#category-menu>li>div").css("min-height", e - 10) });

var scrolltotop = { setting: { startline: 100, scrollto: 0, scrollduration: 1e3, fadeduration: [500, 100] }, controlHTML: '<img src="/Images/mobile/images/common/backtotop.png" width="60" height="60" alt="Back to top"/>', controlattrs: { offsetx: 5, offsety: 5 }, anchorkeyword: "#top", state: { isvisible: !1, shouldvisible: !1 }, scrollup: function () { this.cssfixedsupport || this.$control.css({ opacity: 0 }); var t = isNaN(this.setting.scrollto) ? this.setting.scrollto : parseInt(this.setting.scrollto); t = "string" == typeof t && 1 == jQuery("#" + t).length ? jQuery("#" + t).offset().top : 0, this.$body.animate({ scrollTop: t }, this.setting.scrollduration) }, keepfixed: function () { var t = jQuery(window), o = t.scrollLeft() + t.width() - this.$control.width() - this.controlattrs.offsetx, s = t.scrollTop() + t.height() - this.$control.height() - this.controlattrs.offsety; this.$control.css({ left: o + "px", top: s + "px" }) }, togglecontrol: function () { var t = jQuery(window).scrollTop(); this.cssfixedsupport || this.keepfixed(), this.state.shouldvisible = t >= this.setting.startline ? !0 : !1, this.state.shouldvisible && !this.state.isvisible ? (this.$control.stop().animate({ opacity: 1 }, this.setting.fadeduration[0]), this.state.isvisible = !0) : 0 == this.state.shouldvisible && this.state.isvisible && (this.$control.stop().animate({ opacity: 0 }, this.setting.fadeduration[1]), this.state.isvisible = !1) }, init: function () { jQuery(document).ready(function (t) { var o = scrolltotop, s = document.all; o.cssfixedsupport = !s || s && "CSS1Compat" == document.compatMode && window.XMLHttpRequest, o.$body = t(window.opera ? "CSS1Compat" == document.compatMode ? "html" : "body" : "html,body"), o.$control = t('<div id="topcontrol">' + o.controlHTML + "</div>").css({ position: o.cssfixedsupport ? "fixed" : "absolute", bottom: o.controlattrs.offsety, right: o.controlattrs.offsetx, opacity: 0, cursor: "pointer" }).attr({ title: "Scroll to Top" }).click(function () { return o.scrollup(), !1 }).appendTo("body"), document.all && !window.XMLHttpRequest && "" != o.$control.text() && o.$control.css({ width: o.$control.width() }), o.togglecontrol(), t('a[href="' + o.anchorkeyword + '"]').click(function () { return o.scrollup(), !1 }), t(window).bind("scroll resize", function () { o.togglecontrol() }) }) } }; scrolltotop.init();